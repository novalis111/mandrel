# Mandrel Staging Environment Configuration
NODE_ENV=staging

# Database Configuration
DATABASE_URL=postgresql://mandrel@localhost:5432/mandrel_staging
DATABASE_USER=mandrel
DATABASE_HOST=localhost
DATABASE_NAME=mandrel_staging
DATABASE_PORT=5432

# Authentication
# JWT_SECRET: REQUIRED - Set in environment or secrets management
JWT_EXPIRES_IN=24h
BCRYPT_ROUNDS=12

# Service Ports (mix of fixed and dynamic for staging)
# Backend REST API runs on 5000, MCP server runs on 8080
MANDREL_HTTP_PORT=5000
MANDREL_MCP_BRIDGE_PORT=0
MANDREL_MCP_PORT=8080

# CORS (staging - allow test domains)
CORS_ORIGIN=http://localhost:3000,http://localhost:3001,https://staging.mandrel.local

# Logging (staging)
LOG_LEVEL=info
DB_LOG_LEVEL=warn
ENABLE_LOG_ROTATION=true
LOG_MAX_FILE_SIZE=50m
LOG_MAX_FILES=14d

# MCP Configuration
MCP_DEBUG=handshake,errors

# Feature Flags (staging - test new features)
FEATURE_FLAG_PHASE1_FEATURE_FLAGS=true
FEATURE_FLAG_PHASE1_CONTRACT_TESTS=true
FEATURE_FLAG_PHASE1_REACT_ERROR_BOUNDARIES=true

# Staging settings
FRONTEND_URL=https://staging.mandrel.local
RATE_LIMIT_WINDOW_MS=600000
RATE_LIMIT_MAX_REQUESTS=75
MAX_FILE_SIZE=8388608
UPLOAD_DIR=/tmp/mandrel/uploads
